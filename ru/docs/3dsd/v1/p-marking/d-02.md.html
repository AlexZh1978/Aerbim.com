<h1>Команда «Изменение цепи»</h1>
<p><strong>Назначение:</strong> изменение маркировки элементов в существующей цепи применяется, если:</p>
<ul>
<li>нужно использовать другой формат маркировки;</li>
<li>нужно изменить конкретные значения полей в формате маркировки.</li>
</ul>
<p align='center'>
<img alt='Рис. 1. Запуск команды «Изменение цепи»' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-01.png' /> 
<br/>
Рис. 1. Запуск команды «Изменение цепи»
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> Для запуска команды нажмите кнопку «Изменение цепи» в группе «Действия с цепями» на панели инструментов «Маркировка» вкладки «3D Security Designer». Если в текущем документе ранее не было создано ни одной цепи, то отобразится окно, информирующее об этом пользователя. </p>
<p align='center'>
<img alt='Рис. 2. Предупреждение об отсутствии цепей' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-02.png' /> 
<br/>
Рис. 2. Предупреждение об отсутствии цепей
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> Иначе отобразится окно «Изменение маркировки в существующей цепи». </p>
<p align='center'>
<img alt='Рис. 3. Окно «Изменение маркировки в существующей цепи»' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-03.png' /> 
<br/>
Рис. 3. Окно «Изменение маркировки в существующей цепи»
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> Управляющие элементы окна отвечают за следующий функционал: </p>
<ol>
<li><p>Выпадающий список «Имя цепи» позволяет выбрать одну из ранее созданных в документе цепей для ее изменения.</p>
</li>
<li><p>Строковое представление «Формат маркировки цепи» даёт представление о внешнем виде маркировки. Строка содержит через двоеточие имя и структуру формата.</p>
</li>
<li><p>Кнопка «Информация о маркированных цепях» позволяет вызвать окно, отражающее информацию о маркированных цепях в документе.</p>
</li>
<li><p>Выпадающий список «Выбор формата» позволяет выбрать один из ранее созданных в документе форматов для изменяемой цепи.</p>
</li>
<li><p>Кнопка «Создать формат» позволяет вызвать окно для создания нового формата в документе для изменяемой цепи.</p>
</li>
<li><p>Список, содержащий пары «Параметр» - «Значение», задаваемые пользователем. К таким параметрам относятся:</p>
<ul>
<li>«Имя цепи», значение этого параметра вводится пользователем и должно быть уникальным в пределах документа.</li>
<li>Прочие параметры пользователя, предусмотренные выбранным форматом маркировки. На значения этих полей не накладывается требования уникальности.</li>
</ul>
</li>
</ol>
 <p style="text-indent: 15px; line-height: 1 em;"> Значения для вышеперечисленных параметров могут быть изменены пользователем. Если формат маркировки был изменён, то для параметров с одинаковыми именами значения переносятся, чтобы их не приходилось вводить заново. </p>
<ol start="7">
<li><p>Если флажок «Маркировать вложенные семейства» установлен, то осуществляется маркирование вложенных семейств. При этом вложенные семейства должны быть «Общими» по отношению к родительскому семейству, иметь определенную категорию и быть адаптированными для работы с надстройкой «3D Security Designer».</p>
</li>
<li><p>Если флажок «Визуализировать маркировку» установлен, то осуществляется визуализация маркировки в соответствии с настройками визуализации.</p>
</li>
<li><p>Если флажок «Удаление альтернативной маркировки» установлен, то при нанесении маркировки в элементе (семействе) будет удаляться значение параметра (если оно было ранее задано) альтернативной маркировки.</p>
</li>
<li><p>Если флажок «Учитывать количество адресов в элементе» установлен, то в процессе нанесения маркировки при формировании счетчика будет учитываться значение параметра, содержащего количество адресов (если устройство является адресным).</p>
</li>
<li><p>Кнопка «Настроить визуализацию маркировки» позволяет вызвать окно для настройки визуализации.</p>
</li>
<li><p>Кнопка «Изменить маркировку» осуществляет запуск процесса изменения маркировки для существующей цепи. Кнопка активна только в случае заполнения значений для всех параметров, перечисленных в п. 3.</p>
</li>
<li><p>Кнопка «Отмена» отменяет команду «Изменение цепи» и закрывает окно «Изменение маркировки в существующей цепи».</p>
</li>
</ol>
 <p style="text-indent: 15px; line-height: 1 em;"> После настройки логики работы команды «Изменение цепи» в окне «Изменение маркировки в существующей цепи» и нажатия кнопки «Изменить маркировку» запускается процесс изменения маркировки выбранной ранее цепи в соответствии с заданными настройками. Если у каких-либо элементов в цепи была задана альтернативная маркировка, то она будет иметь приоритет при визуализации. </p>
 
<p style="text-indent: 15px; line-height: 1 em;"> <b> ВАЖНО: </b> процесс изменения визуализации маркировки при изменении цепи может занимать достаточно много времени. Время визуализации зависит от настроек формата маркировки, количества элементов в цепи и количества видов, на которых размещены эти элементы. 
При этом, для ускорения работы команды, логика работы с визуализацией маркировки элементов изменяемой цепи такова: 
<p>•	Если у элементов цепи, для которых требуется визуализация, была визуализирована хотя бы одна маркировка на каком-либо виде в документе, то при изменении цепи, у таких элементов не будет создаваться новой визуализации не на каких видах, а измениться существующая визуализация в соответствии с форматом маркировки.</p>
<p>•	Если у элементов цепи, для которых требуется визуализация, вообще до выполнения команды не было визуализации ни на каком из видов в документе, то визуализация для таких элементов создастся на всех видах, где эти элементы попадают в видимый диапазон вида.</p>
 </p>
 <p style="text-indent: 15px; line-height: 1 em;"> Пример работы команды </p>
<p align='center'>
<img alt='Рис. 4. До выполнения команды «Изменение цепи»' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-04.png' /> 
<br/>
Рис. 4. До выполнения команды «Изменение цепи»
</p>
<p align='center'>
<img alt='Рис. 5. Результат выполнения команды «Изменение цепи» с учетом ранее сделанных настроек в окне «Изменение маркировки в существующей цепи»' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-05.png' />
<br/>
Рис. 5. Результат выполнения команды «Изменение цепи» с учетом ранее сделанных настроек в окне «Изменение маркировки в существующей цепи»
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> Возможны следующие неоднозначности при работе команды «Изменение цепи»: </p>
 <p style="text-indent: 15px; line-height: 1 em;"> Если в процессе изменения цепи количество элементов в цепи превысило количество, предусмотренное измененным форматом маркировки, то отобразится соответствующее информационное окно, определяющее дальнейшие действия пользователя. При этом в окне появится информация о количестве фактических элементов в изменяемой цепи и максимальном количестве элементов, определенном выбранным форматом маркировки, а также автоматически изменится визуальное представление маркировки изменяемой цепи (если визуализация для нее была предусмотрена ранее) в соответствии с последними сделанными настройками в окне «Настройки визуализации маркировки». </p>
<p align='center'>
<img alt='Рис. 6. Устранение коллизии' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-06.png' /> 
<br/>
Рис. 6. Устранение коллизии
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> В случае сбоя команды будет выведено соответствующее сообщение, при этом изменения маркировки цепи не произойдет. </p>
<p align='center'>
<img alt='Рис. 7. Сообщение о сбое' src='/upload/ru/docs/3dsd/v1/p-marking/d-02-img/d-02-07.png' /> 
<br/>
Рис. 7. Сообщение о сбое
</p>
