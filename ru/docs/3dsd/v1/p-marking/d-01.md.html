<h1>Команда «Новая цепь»</h1>
<p><strong>Назначение:</strong> выделение цепи, т.е. подмножества элементов (семейств Revit) в составе проекта с указанным пользователем порядком следования. Порядок следования семейств используется для нанесения маркировки в соответствии с указанным пользователем форматом маркировки.</p>
<p align='center'>
<img alt='Рис. 1. Запуск команды «Новая цепь»' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/d-01-01.png' />
<br/>
Рис. 1. Запуск команды «Новая цепь»
</p>
 <p style="text-indent: 15px; line-height: 1 em;"> Команда предназначена для нанесения маркировки в новой цепи. Команда работает только на низком уровне детализации (маркируемые семейства Revit представлены в виде условных графических обозначений). 
 Для запуска команды нажмите кнопку «Новая цепь» в группе «Действия с цепями» на панели инструментов «Маркировка» вкладки «3D Security Designer». После этого отобразится окно «Нанесение маркировки в новой цепи». </p>
<p align='center'>
<img alt='Рис. 2. Окно «Нанесение маркировки в новой цепи»' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/d-01-02.png' />
<br/>
Рис. 2. Окно «Нанесение маркировки в новой цепи»
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Управляющие элементы окна отвечают за следующий функционал: </p>
<ol>
<li><p>Выпадающий список «Выбор формата» позволяет выбрать один из ранее созданных в документе форматов. Пункты в списке содержат имя и структуру формата, объединённые двоеточием. Подробности о структуре форматов см. в разделе Команда «Создание формата».</p>
</li>
<li><p>Кнопка «Создать формат» позволяет вызвать команду «Создание формата» для создания нового формата в документе. Созданный формат появляется в выпадающем списке «Выбор формата».</p>
</li>
<li><p>Список, содержащий пары «Параметр» - «Значение», задаваемые пользователем. К таким параметрам относятся:
«Имя цепи», значение этого параметра вводится пользователем и должно быть уникальным в пределах документа.
Прочие параметры пользователя, предусмотренные выбранным форматом маркировки. На значения этих полей не накладывается требования уникальности.
Значения для вышеперечисленных параметров должны быть заданы в обязательном порядке.</p>
</li>
<li><p>Если флажок «Маркировать вложенные семейства» установлен, то осуществляется маркирование вложенных семейств. При этом вложенные семейства должны быть «Общими» по отношению к родительскому семейству, иметь определенную категорию и быть адаптированными для работы с надстройкой «3D Security Designer». Маркировка вложенных семейств не визуализируется.</p>
</li>
<li><p>Если флажок «Визуализировать маркировку» установлен, то осуществляется визуализация маркировки в соответствии с настройками визуализации.</p>
</li>
<li><p>Если флажок «Удаление альтернативной маркировки» установлен, то при нанесении маркировки в элементе (семействе) будет удаляться значение параметра (если оно было ранее задано) альтернативной маркировки.</p>
</li>
<li><p>Если флажок «Учитывать количество адресов в элементе» установлен, то в процессе нанесения маркировки при формировании счетчика будет учитываться значение параметра, содержащего количество адресов (если устройство является адресным).</p>
</li>
<li><p>Кнопка «Настроить визуализацию маркировки» позволяет вызвать окно для настройки визуализации.</p>
</li>
<li><p>Кнопка «Нанести маркировку» осуществляет запуск процесса маркирования для новой цепи. Кнопка активна только в случае заполнения значений для всех параметров, перечисленных в п. 3.</p>
</li>
<li><p>Кнопка «Отмена» отменяет команду «Новая цепь» и закрывает окно «Нанесение маркировки в новой цепи».</p>
</li>
</ol>
<p style="text-indent: 15px; line-height: 1 em;"> После настройки логики работы команды «Новая цепь» в окне «Нанесение маркировки в новой цепи» и нажатия кнопки «Нанести маркировку» запускается процесс выбора последовательности элементов (семейств) для нанесения маркировки. Определение очередности и выбор последовательности элементов осуществляется при помощи линии детализации, проходящей через условные графические обозначение (как правило) элементов (семейств). Линия детализации не обязана быть непрерывной. Очередность маркирования элементов задается очередностью пересечения элементов линией детализации. </p>
<p style="text-indent: 15px; line-height: 1 em;"> Завершение процесса определения очередности и выбора требуемых элементов подтверждается двойным нажатием клавиши ESC. После этого осуществляется маркирование выбранных элементов в соответствии с ранее сделанными настройками. Если у каких-либо элементов в цепи была задана альтернативная маркировка, то она будет иметь приоритет при визуализации. </p>
<h2>Принципы маркирования элементов в цепи</h2>
<p>Маркировка элементов генерируется на основе <a href="/ru/docs/3dsd/v1/p-marking/d-10">формата маркировки</a>.</p>
<p>Предполагается, что различные элементы цепи имеют различную маркировку с целью идентификации элементов на видах и в спецификациях.</p>
<p>При необходимости проектировщик может давать  отдельным элементам альтернативную маркировку, не подчиняющуюся ограничениям формата.</p>
<p>Некоторые элементы цепи могут не иметь своей маркировки. Типичный пример - шкаф, содержащие внутри элементы цепи, как вложенные семейства Revit. При этом вложенные семейства могут нуждаться в маркировке.</p>
<p>При формировании маркировки обычно используется счётчик, обеспечивающий уникальность маркировки для каждого из маркируемых элементов цепи.</p>
<p>Плагин поддерживает возможность связать значения счётчика с адресом устройствами в цепи, что удобно при работе с адресными устройствами.</p>
<p>Плагин 3D Security Designer в работе с маркировкой опирается на несколько сервисных параметров семейств (таблица 1). Обычно нет нужды их редактировать вручную, так как этим занимаются команды плагина.</p>
<p>Сервисные параметры можно добавить к любым семействам, используя <a href="/ru/docs/3dsd/v1/p-adaptation/">панель адаптации</a> семейств.</p>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 1.Сервисные параметры семейств</th>
  </tr>
  <tr>
    <th class="tg-0pky">№ параметра</th>
    <th class="tg-0pky">Имя параметра</th>
    <th class="tg-0pky">Значение по умолчанию</th>
    <th class="tg-0pky">Тип значения</th>
    <th class="tg-0pky">Назначение</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">1</td>
    <td class="tg-0pky">ARBM_SP_AdaptationForMarking</td>
    <td class="tg-0pky">1</td>
    <td class="tg-0pky">Целое</td>
    <td class="tg-0pky">Наличие этого параметра показывает, что семейство адаптировано для работы с панелью маркировки в составе плагина 3D Security Designer версии 1.0</td>
  </tr>
  <tr>
    <td class="tg-0pky">2</td>
    <td class="tg-0pky">ARBM_SP_CircuitName</td>
    <td class="tg-0pky">""</td>
    <td class="tg-0pky">Строка</td>
    <td class="tg-0pky">Данный параметр содержит имя цепи. Элементы с одинаковым именем цепи логически объединены в одну цепь</td>
  </tr>
   <tr>
    <td class="tg-0pky">3</td>
    <td class="tg-0pky">ARBM_SP_ElementIndex</td>
    <td class="tg-0pky">0</td>
    <td class="tg-0pky">Целое</td>
    <td class="tg-0pky">Служит для указания положения элемента в цепи</td>
  </tr>
    <tr>
    <td class="tg-0pky">4</td>
    <td class="tg-0pky">ARBM_SP_ElementNumber</td>
    <td class="tg-0pky">0</td>
    <td class="tg-0pky">Целое</td>
    <td class="tg-0pky">Значения счётчика для элемента в цепи. Используется для генерации маркировки. 
<p><strong>ВАЖНО:</strong> Маркировка генерируется только для элементов со значениями счётчика, отличными от нуля. Исключение — цепи, где формат маркировки вообще не использует счётчик.<br />
При этом, если определена необходимость маркирования вложенных семейств и у элемента есть вложенные (в плагине поддерживается только один уровень вложенности) «общие» семейства (удовлетворяющие критериям для работы с плагином) и значение параметра значение параметра «ARBM_SP_NeedMark» равно «Да» у данного элемента, то значение параметра «ARBM_SP_ElementMark» формируется с учетом количества вложенных «общих» семейств.
Маркировка вложенных «общих семейств» учитывается на уровне родительского семейства в его параметре «ARBM_SP_ElementMark». Если во вложенном «общем» семействе значение параметра «ARBM_SP_NeedMark» равно «Нет», то маркировка для данного семейства не учитывается на уровне родительского, но значение параметра «ARBM_SP_ElementNumber» будет учтено при подсчете занятых адресов в диапазоне формата маркировки.
Если у элемента верхнего (родительского) значение параметра «ARBM_SP_NeedMark» равно «Нет», то оно не будет промаркировано, несмотря на значения параметров вложенных элементов, однако значения всех параметров «ARBM_SP_ElementNumber» будут учтены при подсчете занятых адресов в диапазоне формата маркировки.
Все выбранные элементы войдут в цепь.</p>
<p><strong>Примечание:</strong> Анализ вложенных семейств осуществляется с учетом значения параметра «ARBM_SP_IsEmbedded».</p>
</td>
  </tr>
<tr>
    <td class="tg-0pky">5</td>
    <td class="tg-0pky">ARBM_SP_ElementMark</td>
    <td class="tg-0pky">""</td>
    <td class="tg-0pky">Строка</td>
    <td class="tg-0pky">Маркировка элемента цепи. Используется при визуализации элемента на видах и в спецификациях</td>
  </tr>
  </tr>
    <tr>
    <td class="tg-0pky">6</td>
    <td class="tg-0pky">ARBM_SP_ElementAltMark</td>
    <td class="tg-0pky">""</td>
    <td class="tg-0pky">Строка</td>
    <td class="tg-0pky">Альтернативная маркировка элемента цепи. Имеет приоритет перед обычной маркировкой при визуализации элемента и в спецификациях. При очистке этого параметра всюду используется обычная маркировка</td>
  </tr>
  </tr>
    <tr>
    <td class="tg-0pky">7</td>
    <td class="tg-0pky">ARBM_SP_NeedMark</td>
    <td class="tg-0pky">Да</td>
    <td class="tg-0pky">Логическое</td>
    <td class="tg-0pky">Значение «Да» означает, что элемент нуждается в маркировке. 
<p><strong>ВАЖНО:</strong> Если значение параметра «Нет», то параметр «ARBM_SP_ElementMark» у данного элемента не заполняется, но элемент входит в состав цепи
</td></p>
  </tr>
   <tr>
    <td class="tg-0pky">8</td>
    <td class="tg-0pky">ARBM_SP_AddressCount</td>
    <td class="tg-0pky">0</td>
    <td class="tg-0pky">Целое</td>
    <td class="tg-0pky">Количество адресов, используемое данным элементом. 
<p><strong>ВАЖНО:</strong> Возможны следующие варианты использования этого параметра:</p>
<ol>
<li>Если выбрана генерация маркировки не на основе подсчёта адресов, то значение данного параметра не используется в качестве значения счётчика для генерации маркировки.</li>
<li>Если выбрана генерация маркировки на основе подсчёта адресов и в формате маркировке был задан параметр «Счетчик», то для увеличения счётчика используется это значение. При этом, если не требуется маркировать вложенные семейства и значение параметра «ARBM_SP_AddressCount» равно 0, то данный  элемент промаркирован не будет, не смотря на значение параметра «ARBM_SP_NeedMark» данного элемента. Элемент войдет в цепь, но с нулевым значением адреса и, соответственно, не будет учтен при подсчете занятых адресов в диапазоне формата маркировки.
Если значение параметра «ARBM_SP_AddressCount» не равно 0, но значение параметра «ARBM_SP_NeedMark» равно «Нет», то элемент не маркируется, но будет учтен при подсчете занятых адресов в диапазоне формата маркировки.</li>
<li>Если выбрана генерация маркировки на основе подсчёта адресов и в формате маркировке был задан параметр «Счетчик», то для увеличения счётчика используется это значение. При этом, если определена необходимость маркирования вложенных семейств и у элемента есть вложенные (в плагине поддерживается только один уровень вложенности) «общие» семейства (удовлетворяющие критериям для работы с плагином), значение параметра «ARBM_SP_AddressCount» равно 0 и значение параметра «ARBM_SP_NeedMark» равно «Да» у данного элемента, то значение параметра «ARBM_SP_ElementMark» формируется на основании значений параметров вложенных «общих» семейств. А именно вложенные «общие» семейства с ненулевыми параметрами «ARBM_SP_AddressCount» и «ARBM_SP_NeedMark» будут промаркированы и только их адреса будут учтены при подсчете занятых адресов в диапазоне формата маркировки.
Маркировка вложенных «общих семейств» учитывается на уровне родительского семейства в его параметре «ARBM_SP_ElementMark». Если во вложенном «общем» семействе значение параметра «ARBM_SP_NeedMark» равно «Нет», то маркировка для данного семейства не учитывается на уровне родительского, но значение параметра «ARBM_SP_AddressCount» будет учтено при подсчете занятых адресов в диапазоне формата маркировки.
Если у элемента верхнего (родительского) значение параметра «ARBM_SP_AddressCount» не нулевое, то оно также будет учтено в формировании маркировки в его параметре
«ARBM_SP_ElementMark».
Если у элемента верхнего (родительского) значение параметра «ARBM_SP_NeedMark» равно «Нет», то оно не будет промаркировано, несмотря на значения параметров вложенных элементов, однако значения всех параметров «ARBM_SP_AddressCount» будут учтены при подсчете занятых адресов в диапазоне формата маркировки.
Все выбранные элементы войдут в цепь.
Логика формирования маркировки и анализ значений адресов для элементов, которые не имеют вложенных аналогична той, что описана в п.2</li>
</ol>
<p><strong>Примечание:</strong> Анализ вложенных семейств осуществляется с учетом значения параметра «ARBM_SP_IsEmbedded»</p>
  </td>
</tr>
 <tr>
    <td class="tg-0pky">9</td>
    <td class="tg-0pky">ARBM_SP_IsEmbedded</td>
    <td class="tg-0pky">Нет</td>
    <td class="tg-0pky">Логическое</td>
    <td class="tg-0pky">Значение «Да» означает, что элемент включен в цепь, будучи вложенным в родительское семейство. Данное поле устанавливается плагином. 
Для  вложенных семейств маркирование может проводиться по указанию пользователя
</td>
  </tr>
</tbody>
</table>
<h2>Примеры работы команды</h2>
<ol>
<li>В качестве примера рассмотрим четыре различных варианта настройки маркировки и
продемонстрируем работу команды на цепи, состоящей из пяти элементов (семейств) – рисунок 3.</li>
</ol>
<p align='center'>
<img alt='Pic.3' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.3.png' />
<br/>
Рис.3. Визуальное представление цепи, состоящей из пяти элементов (семейств)
</p>
<ol start="2">
<li>Исходные значения сервисных параметров для каждого элемента (семейства) приведены в таблице 2.</li>
</ol>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 2. Сервисные параметры семейств</th>
  </tr>
  <tr>
    <th class="tg-0pky">Перечень элементов цепи</th>
    <th class="tg-0pky">Значения сервисных параметров до выполнения маркирования элементов</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">
     Элемент №1
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №1">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl2_val1.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №2
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №2">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl2_val2.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №3
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_3.png" alt="Элемент №3">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl2_val3.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №4
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №4">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl2_val4.png" alt="">
    </td>
  </tr>
   <tr>
    <td class="tg-0pky">
     Элемент №5
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №5">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl2_val5.png" alt="">
    </td>
  </tr>
</tbody>
</table>
<ol start="3">
<li>Перед началом работы команды, создадим <a href="/ru/docs/3dsd/v1/p-marking/d-10">формат маркировки</a> со структурой, показанной на рисунке 4. Данный формат маркировки будет использоваться для всех рассматриваемых вариантов работы команды.</li>
</ol>
<p align='center'>
<img alt='Pic.4 Create Format' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.4_CreateFormat.png' />
<br/>
Рис. 4. Создание формата 
</p>
<ol start="4">
<li>Задаем <a href="/ru/docs/3dsd/v1/p-marking/d-12">настройки визуализации</a> маркировки (рисунок 5). Данные настройки маркировки будут использоваться для всех рассматриваемых вариантов работы команды.</li>
</ol>
<p align='center'>
<img alt='Pic.5 Visual Settings' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.5_VisualSettings.png' />
<br/>
Рис. 5.  Настройки визуализации
</p>
<ol start="5">
<li>Задаем настройки маркировки для <strong>варианта 1</strong> - рисунок 6.</li>
</ol>
<p align='center'>
<img alt='Pic.6 Marking Settings' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.6_MarkingSettings.png' />
<br/>
Рис. 6.  Настройки маркировки для варианта 1 
</p>
<ol start="6">
<li>Наносим маркировку, выбирая последовательно элементы (семейства) цепи линией детализации – рисунок 7.</li>
</ol>
<p align='center'>
<img alt='Pic.7 Sample' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.7_sample.png' />
<br/>
Рис. 7.  Создание цепи посредством линии детализации
</p>
<ol start="7">
<li>Результат работы команды по <strong>варианту 1</strong> приведен на рисунке 8.</li>
</ol>
<p align='center'>
<img alt='Pic.8 Sample' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.8_sample.png' />
<br/>
Рис. 8. Результат маркирования цепи по варианту 1
</p>
<ol start="8">
<li>Значения сервисных параметров для каждого элемента (семейства) после завершения работы команды по варианту 1 приведены в таблице 3.</li>
</ol>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 3. Значения сервисных параметров элементов (семейств) после завершения работы команды по варианту 1</th>
  </tr>
  <tr>
    <th class="tg-0pky">Перечень элементов цепи</th>
    <th class="tg-0pky">Значения сервисных параметров после выполнения маркирования элементов с настройками маркировки по варианту 1</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">
     Элемент №1
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №1">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl3_val1.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №2
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №2">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl3_val2.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №3
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_3.png" alt="Элемент №3">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl3_val3.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №4
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №4">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl3_val4.png" alt="">
    </td>
  </tr>
   <tr>
    <td class="tg-0pky">
     Элемент №5
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №5">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl3_val5.png" alt="">
    </td>
  </tr>
</tbody>
</table>
<p><strong>Примечание:</strong> обратите внимание на элемент №4 и элемент №5.</p>
<p>Элемент №4 имеет такую визуальную маркировку, потому что его сервисный параметр «ARBM_SP_ElementAltMark» содержит значение «AltMark», и визуализация этого значение для плагина имеет более высокий приоритет.</p>
<p>Элемент №5 вообще не имеет визуального представления маркировки, потому что его сервисный параметр «ARBM_SP_NeedMark» содержит значение «Нет».</p>
<ol start="9">
<li><a href="/ru/docs/3dsd/v1/p-marking/d-04">Вид окна «Информация о маркированных цепях»</a> после работы команды по варианту 1 приведён на рисунке 9.</li>
</ol>
<p align='center'>
<img alt='Pic.9 Info About Circuits Window' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.9_InfoAboutCircuits_Window.png' />
<br/>
Рис. 9. Вид окна «Информация о маркированных цепях» для варианта 1
</p>
<ol start="10">
<li>Задаем настройки маркировки для <strong>варианта 2</strong> - рисунок 10.</li>
</ol>
<p align='center'>
<img alt='Pic.10 Marking Settings' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.10_MarkingSettings.png' />
<br/>
Рис. 10.  Настройки маркировки для варианта 2
</p>
<ol start="11">
<li>Наносим маркировку, выбирая последовательно элементы (семейства) цепи линией детализации – рисунок 7.</li>
<li>Результат работы команды по варианту 2 приведен на рисунке 11.</li>
</ol>
<p align='center'>
<img alt='Pic.11 Sample' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.11_sample.png' />
<br/>
Рис. 11. Результат маркирования цепи по варианту 2
</p>
<ol start="13">
<li>Значения сервисных параметров для каждого элемента (семейства) после завершения работы команды по варианту 2 приведены в таблице 4.</li>
</ol>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 4. Значения сервисных параметров элементов (семейств) после завершения работы команды по варианту 2</th>
  </tr>
  <tr>
    <th class="tg-0pky">Перечень элементов цепи</th>
    <th class="tg-0pky">Значения сервисных параметров после выполнения маркирования элементов с настройками маркировки по варианту 2</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">
     Элемент №1
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №1">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl4_val1.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №2
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №2">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl4_val2.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №3
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_3.png" alt="Элемент №3">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl4_val3.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №4
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №4">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl4_val4.png" alt="">
    </td>
  </tr>
   <tr>
    <td class="tg-0pky">
     Элемент №5
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №5">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl4_val5.png" alt="">
    </td>
  </tr>
</tbody>
</table>
<p><strong>Примечание:</strong> обратите внимание на элемент №4 и элемент №5.</p>
<p>Элемент №4 уже имеет, заданную форматом, маркировку, потому что его сервисный параметр «ARBM_SP_ElementAltMark» не содержит значения и происходит визуализация значения сервисного параметра «ARBM_SP_ElementMark» соответственно.</p>
<p>Элемент №5 вообще не имеет визуального представления маркировки, потому что его сервисный параметр «ARBM_SP_NeedMark» содержит значение «Нет».</p>
<ol start="14">
<li><a href="/ru/docs/3dsd/v1/p-marking/d-04">Вид окна «Информация о маркированных цепях»</a> после работы команды по варианту 2 приведён на рисунке 12.</li>
</ol>
<p align='center'>
<img alt='Pic.12 Info About Circuits Window' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.12_InfoAboutCircuits_Window.png' />
<br/>
Рис. 12. Вид окна «Информация о маркированных цепях» для варианта 2
</p>
<ol start="15">
<li>Задаем настройки маркировки для <strong>варианта 3</strong> - рисунок 13.</li>
</ol>
<p align='center'>
<img alt='Pic.13 Marking Settings' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.13_MarkingSettings.png' />
<br/>
Рис. 13.  Настройки маркировки для варианта 3
</p>
<ol start="16">
<li>Наносим маркировку, выбирая последовательно элементы (семейства) цепи линией детализации – рисунок 7.</li>
<li>Результат работы команды по варианту 3 приведен на рисунке 14.</li>
</ol>
<p align='center'>
<img alt='Pic.14 Sample' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.14_sample.png' />
<br/>
Рис. 14. Результат маркирования цепи по варианту 3
</p>
<ol start="18">
<li>Значения сервисных параметров для каждого элемента (семейства) после завершения работы команды по варианту 3 приведены в таблице 5.</li>
</ol>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 5. Значения сервисных параметров элементов (семейств) после завершения работы команды по варианту 3</th>
  </tr>
  <tr>
    <th class="tg-0pky">Перечень элементов цепи</th>
    <th class="tg-0pky">Значения сервисных параметров после выполнения маркирования элементов с настройками маркировки по варианту 3</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">
     Элемент №1
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №1">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl5_val1.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №2
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №2">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl5_val2.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №3
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_3.png" alt="Элемент №3">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl5_val3.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №4
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №4">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl5_val4.png" alt="">
    </td>
  </tr>
   <tr>
    <td class="tg-0pky">
     Элемент №5
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №5">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl5_val5.png" alt="">
    </td>
  </tr>
</tbody>
</table>
<p><strong>Примечание:</strong> обратите внимание на элемент №3 и элемент №5</p>
<p>Элемент №3 имеет такую маркировку (в виде диапазона значений счетчика), потому что содержит в себе одно «общее» семейство, которое удовлетворяет критериям работы надстройки (плагина) 3D Security Designer и учитывается соответственно при маркировании цепи.</p>
<p>Элемент №5 вообще не имеет визуального представления маркировки, потому что его сервисный параметр «ARBM_SP_NeedMark» содержит значение «Нет».</p>
<ol start="19">
<li><a href="/ru/docs/3dsd/v1/p-marking/d-04">Вид окна «Информация о маркированных цепях»</a> после работы команды по варианту 3 приведён на рисунке 15.</li>
</ol>
<p align='center'>
<img alt='Pic.15 Info About Circuits Window' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.15_InfoAboutCircuits_Window.png' />
<br/>
Рис. 15. Вид окна «Информация о маркированных цепях» для варианта 3
</p>
<ol start="20">
<li>Задаем настройки маркировки для <strong>варианта 4</strong> - рисунок 16.</li>
</ol>
<p align='center'>
<img alt='Pic.16 Marking Settings' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.16_MarkingSettings.png' />
<br/>
Рис. 16.  Настройки маркировки для варианта 4
</p>
<ol start="21">
<li>Наносим маркировку, выбирая последовательно элементы (семейства) цепи линией детализации – рисунок 7.</li>
<li>Результат работы команды по варианту 4 приведен на рисунке 17.</li>
</ol>
<p align='center'>
<img alt='Pic.17 Sample' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.17_sample.png' />
<br/>
Рис. 17. Результат маркирования цепи по варианту 4
</p>
<ol start="23">
<li>Значения сервисных параметров для каждого элемента (семейства) после завершения работы команды по варианту 4 приведены в таблице 6.</li>
</ol>
<style type="text/css" >
.tg  {border-collapse:collapse;border-spacing:0; margin: auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal; text-align: center;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:bold;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-0pkyq{border-color:white white black white;text-align:right;vertical-align:top}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-0lax{text-align:left;vertical-align:top}
</style>
<table class="tg" >
<thead>
  <tr>
    <td class="tg-0pkyq"></th>
    <td class="tg-0pkyq">Таблица 6. Значения сервисных параметров элементов (семейств) после завершения работы команды по варианту 4</th>
  </tr>
  <tr>
    <th class="tg-0pky">Перечень элементов цепи</th>
    <th class="tg-0pky">Значения сервисных параметров после выполнения маркирования элементов с настройками маркировки по варианту 4</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">
     Элемент №1
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №1">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl6_val1.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №2
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №2">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl6_val2.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №3
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_3.png" alt="Элемент №3">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl6_val3.png" alt="">
    </td>
  </tr>
  <tr>
    <td class="tg-0pky">
     Элемент №4
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №4">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl6_val4.png" alt="">
    </td>
  </tr>
   <tr>
    <td class="tg-0pky">
     Элемент №5
     <img align="center" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl_el_1,2,4,5.png" alt="Элемент №5">
    </td>
    <td class="tg-0pky">
     <img align="left" src="/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic_tbl6_val5.png" alt="">
    </td>
  </tr>
</tbody>
</table>
<p><strong>Примечание:</strong> обратите внимание на элемент №№2,3,4 и элемент №5.</p>
<p>Элемент №2 имеет такую маркировку (в виде диапазона значений счетчика), потому что его сервисный параметр «ARBM_SP_AddressCount» содержит значение «2», то есть элемент занимает два адреса в цепи.</p>
<p>Элемент №3 имеет такую маркировку, потому что его сервисный параметр «ARBM_SP_AddressCount» содержит значение «0», то есть данный элемент является не адресным устройством (например, это может быть корпус, в который могут быть вставлены одно или несколько адресных устройств) и не занимает адреса в цепи. Но в нем содержится одно «общее» семейство, которое удовлетворяет критериям работы надстройки (плагина) 3D Security Designer и учитывается соответственно при маркировании цепи. Сервисный параметр «ARBM_SP_AddressCount» у данного семейства содержит значение «1», а сервисный параметр «ARBM_SP_IsEmbedded» содержит значение «Да». То есть элемент №3 совместно с вложенным в него «общим» семейством занимают один адрес в цепи.</p>
<p>Элемент №4 имеет такую маркировку (в виде диапазона значений счетчика), потому что его сервисный параметр «ARBM_SP_AddressCount» содержит значение «3», то есть элемент занимает три адреса в цепи.</p>
<p>Элемент №5 вообще не имеет визуального представления маркировки, потому что его сервисный параметр «ARBM_SP_NeedMark» содержит значение «Нет».</p>
<ol start="24">
<li><a href="/ru/docs/3dsd/v1/p-marking/d-04">Вид окна «Информация о маркированных цепях»</a> после работы команды по варианту 4 приведён на рисунке 18.</li>
</ol>
<p align='center'>
<img alt='Pic.18 Info About Circuits Window' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/pic.18_InfoAboutCircuits_Window.png' />
<br/>
Рис. 18. Вид окна «Информация о маркированных цепях» для варианта 4
</p>
<p><strong>ВАЖНО:</strong>  для отмены команды «Новая цепь» необходимо три раза нажать кнопку «Отменить» на панели «Быстрый доступ» окна Revit.</p>
<p><strong>ВАЖНО:</strong> процесс визуализации маркировки при создании цепи, может занимать достаточно много времени. Время визуализации зависит от настроек формата маркировки, количества элементов в цепи и количества видов, на которых размещены эти элементы</p>
<p style="text-indent: 15px; line-height: 1 em;"> Возможны следующие неоднозначности при работе команды «Новая цепь»: </p>
<ol>
<li>При выделении последовательности элементов, рекомендуется линию детализации проводить как можно ближе к точке вставки семейства. При этом, если при выборе последовательности элементов, линия детализации будет проходить на достаточно большом расстоянии от точек вставки семейств, то есть вероятность того, что элементы не будут включены в цепь. В этом случае  необходимо либо пересоздать цепь с учетов вышеприведенной рекомендации, либо добавить не включенные в цепь элементы командой «Добавление элементов».</li>
<li>Если в процессе создания цепи в выбранных элементах оказались элементы, которые ранее были включены в другие цепи, то отобразится соответствующее информационное окно, определяющее дальнейшие действия пользователя. При этом в окне появится информация о количестве элементов и именах цепей, по которым возникла неоднозначность. В случае продолжения работы команды - автоматически изменится нумерация элементов и визуальное представление маркировки в затронутых цепях (если визуализация для них была предусмотрена ранее) в соответствии с последними сделанными настройками в окне <a href="/ru/docs/3dsd/v1/p-marking/d-12/">«Настройки визуализации маркировки»</a>.</li>
</ol>
<p align='center'>
<img alt='Рис. 19. Устранение коллизии' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/d-01-06.png' />
<br/>
Рис. 19. Устранение коллизии 
</p>
<ol start="2">
<li>Если в процессе создания цепи количество выбранных элементов превышает количество, предусмотренное форматом маркировки, то отобразится соответствующее информационное окно, определяющее дальнейшие действия пользователя. При этом в окне появится информация о количестве фактически выбранных элементов и максимальном количестве элементов, определенном форматом маркировки.</li>
</ol>
<p align='center'>
<img alt='Рис. 20. Устранение коллизии ' src='/upload/ru/docs/3dsd/v1/p-marking/d-01-img/d-01-07.png' /> 
<br/>
Рис. 20. Устранение коллизии 
</p>
<p style="text-indent: 15px; line-height: 1 em;"> В случае сбоя команды будет выведено соответствующее сообщение, при этом создания маркированной цепи не произойдет. </p
>
