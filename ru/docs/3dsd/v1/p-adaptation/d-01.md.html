<h1>Команда «Адаптация семейств»</h1>
<p><strong>Назначение:</strong> адаптация существующих семейств для работы с надстройкой 3D Security Designer и шаблоном, прямая ссылка для загрузки шаблона и руководства по работе с ними.</p>
<p align='center'>
<img alt='D 01 01' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-01.png' />
<br/>
Рис. 1. Запуск команды «Адаптация семейств»
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Для запуска команды нажмите кнопку «Адаптация семейств» на панели инструментов «Адаптация» вкладки «3D Security Designer». После этого отобразится окно «Адаптация семейств». </p>
<p align='center'>
<img alt='Adapt New Wnd1' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/Adapt_newWnd1.png' />
<br/>
Рис. 2. Окно «Адаптация семейств»
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Управляющие элементы окна отвечают за следующий функционал: </p>
<ol>
<li>Если флажок «Адаптация к надстройке 3D Security Designer» установлен, то осуществляется адаптация выбранных семейств к надстройке 3D Security Designer.</li>
<li>Если флажок «Адаптация вложенных семейств» установлен, то осуществляется адаптация вложенных семейств к надстройке 3D Security Designer.</li>
<li>Если флажок «Адаптация к шаблону» установлен, то осуществляется адаптация выбранных семейств к шаблону «ARBM_ШаблонПроекта_СПС-СОУЭ_R2019(20) _v1.1.rte» (вместе с вложенными семействами).</li>
<li>Список «Выбор шаблона» предоставляет информацию о шаблоне. Позволяет скачать шаблон и руководство по работе с ним.</li>
<li>Кнопка «Откуда» позволяет выбрать папку с семействами, которые подлежат адаптации.</li>
<li>Кнопка «Куда» позволяет выбрать папку, в которую будут сохранятся адаптированные семейства.</li>
<li>Кнопка «Адаптировать» запускает процесс адаптации выбранных семейств.</li>
<li>Кнопка «Отмена» отменяет команду «Адаптация семейств» и закрывает окно «Адаптация семейств».</li>
</ol>
<p>После настройки логики работы команды «Адаптация семейств» в окне «Адаптация семейств» и нажатия кнопки «Адаптировать» запускается процесс адаптации. Адаптация возможна только семейств определенных <a href="/ru/docs/3dsd/v1/p-adaptation#categories">категорий</a>.</p>
<p style="text-indent: 15px; line-height: 1 em;"> Пример работы команды </p>
<p align='center'>
<img alt='Adapt New Wnd2' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/Adapt_newWnd2.png' />
<br/>
Рис. 3. Установка параметров команды 
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Задаем настройки для адаптации семейств. Для более полной демонстрации процесса адаптации в папку «AdaptFrom» поместим файлы семейств различных категорий и версий Revit (2016, 2019, 2020): </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «AER_УГО_2D_Узел_ИзвещательДымовой.rfa» – семейство категории «типовые аннотации», </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «AER_Извещатель_Дымовой_ESSER_IQ8Quad.rfa» – семейство категории «пожарная сигнализация», </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «AER_Извещатель_Дымовой_ESSER_IQ8Quad_2016.rfa» – семейство категории «пожарная сигнализация», </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «AER_Извещатель_Дымовой_ESSER_IQ8Quad_2020.rfa» – семейство категории «пожарная сигнализация», </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «088-19-СПС.СОП.rte» – файл шаблона, </p>
<p style="text-indent: 15px; line-height: 0.8em;"> «088-19-СПС.СОП_АУМ.rvt» – файл проекта, 
и нажимаем кнопку «Адаптировать». </p>
<p align='center'>
<img alt='D 01 04' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-04.png' />
<br/>
Рис. 4. Содержимое папки «AdaptFrom» перед запуском процесса адаптации
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Для семейства «AER_Извещатель_Дымовой_ESSER_IQ8Quad_2016.rfa», у которого более ранняя версия Autodesk Revit (2016), будет выполнено автоматическое обновление до текущей версии Autodesk Revit (2019 или 2020) и выдано соответствующее сообщение </p>
<p align='center'>
<img alt='D 01 05' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-05.png' />
<br/>
Рис. 5. Запрос на обновление формата Revit
</p>
<p style="text-indent: 15px; line-height: 1 em;"> В процессе адаптации родительских и/или вложенных семейств могут появляться различные предупреждения от Autodesk Revit. </p>
<p align='center'>
<img alt='D 01 06' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-06.png' />
<br/>
Рис. 6. Предупреждения при адаптации
</p>
<p style="text-indent: 15px; line-height: 1 em;"> При этом их можно принять (нажать кнопку «OK») и продолжить адаптацию или отменить адаптацию данного семейства (нажать кнопку «Отмена»). Если предупреждение касалось вложенных семейств и была нажата кнопка «Отменить», то не будет выполнена адаптация вложенных семейств, а адаптация родительского семейства продолжится. В случае отмены будет выдано соответствующее сообщение и процесс адаптации для остальных семейств продолжится. </p>
<p align='center'>
<img alt='D 01 07' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-07.png' />
<br/>
Рис. 7. Адаптация вложенных семейств
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Если в процессе адаптации будет выявлено семейство для более поздней версии Autodesk Revit, то будет выдано соответствующее сообщение и процесс адаптации для остальных семейств продолжится. </p>
<p align='center'>
<img alt='D 01 08' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-08.png' /> 
<br/>
Рис. 8. Обработка семейств более позднем формате Revit
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Если в процессе адаптации будет выявлено семейство, категория которого не соответствует ни одной из поддерживаемой надстройкой 3D Security Designer категории, то будет выдано соответствующее сообщение и процесс адаптации для остальных семейств продолжится. </p>
<p align='center'>
<img alt='D 01 09' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-09.png' /> 
<br/>
Рис. 9. Отсутствие поддерживаемой категории 
</p>
<p style="text-indent: 15px; line-height: 1 em;"> После завершения процесса адаптации будет выдано соответствующее сообщение. </p>
<p align='center'>
<img alt='D 01 10' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-10.png' /> 
<br/>
Рис. 10. Сообщение о завершении адаптации
</p>
<p style="text-indent: 15px; line-height: 1 em;"> Количество успешно адаптированных семейств считается по количеству успешно адаптированных родительских семейств. </p>
<p style="text-indent: 15px; line-height: 1 em;"> В результате выполнения команды «Адаптация семейств» для показанного примера успешно будут адаптированы и сохранены в целевой папке («AdaptTo» в нашем примере) только два семейства: «AER_Извещатель_Дымовой_ESSER_IQ8Quad.rfa» и «AER_Извещатель_Дымовой_ESSER_IQ8Quad_2016.rfa». При этом в файле «AER_Извещатель_Дымовой_ESSER_IQ8Quad_2016.rfa» вложенные семейства были не адаптированы, так как в окне с предупредительным сообщением была нажата кнопка «Отменить», что привело к отмене адаптации вложенных семейств. Файлы, не являющиеся семействами Revit, игнорируются и в процессе не участвуют. </p>
<p style="text-indent: 15px; line-height: 1 em;"> Возможны следующие неоднозначности при работе команды «Адаптация семейств»: </p>
<ol>
<li>Если до начала процесса адаптации в целевой папке (папка, в которую будут сохранятся адаптированные семейства) ранее находились файлы с именами, совпадающими с именами адаптируемых семейств, то они будут заменены на адаптированные файлы.</li>
<li>Если при выборе исходной и целевой папок они совпали, то будет выведено соответствующее сообщение. Такой режим работы возможен. При этом в папке будет создана подпапка «Адаптировано», в которой будут размещены адаптированные семейства.</li>
</ol>
<p align='center'>
<img alt='D 01 11' src='/upload/ru/docs/3dsd/v1/p-adaptation/d-01-img/d-01-11.png' /> 
<br/>
Рис. 11. Сообщение о совпадении исходной и целевой папок
</p>
<p style="text-indent: 15px; line-height: 1 em;"> В случае сбоя команды будет выведено соответствующее сообщение, при этом адаптации семейств не произойдет. </p>
